{"version":3,"sources":["chartist-plugin-pointlabels.js"],"names":["root","factory","define","amd","Chartist","returnExportsGlobal","exports","module","require","this","window","document","defaultOptions","labelClass","labelOffset","x","y","textAnchor","align","labelInterpolationFnc","noop","labelPositionCalculation","point","data","bar","left","x1","y2","center","x2","right","plugins","ctPointLabels","options","addLabel","position","value","undefined","group","elem","style","text","extend","chart","Line","Bar","on","positonCalculator","type"],"mappings":";;;;;;CAAC,SAAUA,EAAMC,GACO,kBAAXC,SAAyBA,OAAOC,IAEzCD,QAAQ,YAAa,SAAUE,GAC7B,MAAQJ,GAAKK,oBAAsBJ,EAAQG,KAEjB,gBAAZE,SAIhBC,OAAOD,QAAUL,EAAQO,QAAQ,aAEjCR,EAAK,kCAAoCC,EAAQG,WAEnDK,KAAM,SAAUL,GA8FhB,MA5FC,UAAUJ,EAAMC,GACO,kBAAXC,SAAyBA,OAAOC,IAEzCD,QAAQ,YAAa,SAAUE,GAC7B,MAAQJ,GAAKK,oBAAsBJ,EAAQG,KAEjB,gBAAZE,SAIhBC,OAAOD,QAAUL,EAAQO,QAAQ,aAEjCR,EAAK,kCAAoCC,EAAQG,IAEnDK,KAAM,SAAUL,GA4EhB,MAtEC,UAASM,EAAQC,EAAUP,GAC1B,YACA,IAAIQ,IACFC,WAAY,WACZC,aACEC,EAAG,EACHC,GAAI,IAENC,WAAY,SACZC,MAAO,SACPC,sBAAuBf,EAASgB,MAE9BC,GACFC,MAAO,SAASC,GACd,OACER,EAAGQ,EAAKR,EACRC,EAAGO,EAAKP,IAGZQ,KACEC,KAAM,SAASF,GACb,OACER,EAAGQ,EAAKG,GACRV,EAAGO,EAAKI,KAGZC,OAAQ,SAASL,GACf,OACER,EAAGQ,EAAKG,IAAMH,EAAKM,GAAKN,EAAKG,IAAM,EACnCV,EAAGO,EAAKI,KAGZG,MAAO,SAASP,GACd,OACER,EAAGQ,EAAKM,GACRb,EAAGO,EAAKI,MAKhBvB,GAAS2B,QAAU3B,EAAS2B,YAC5B3B,EAAS2B,QAAQC,cAAgB,SAASC,GAExC,QAASC,GAASC,EAAUZ,GAE1B,GAAIa,GAAS,EAEXA,OADmBC,KAAjBd,EAAKa,MAAMrB,OAAoCsB,KAAjBd,EAAKa,MAAMpB,EACnCO,EAAKa,MAAMrB,EAAI,KAAOQ,EAAKa,MAAMpB,MAEhBqB,KAAjBd,EAAKa,MAAMpB,EAAkBO,EAAKa,MAAMpB,EAAIO,EAAKa,MAAMrB,EAGjEQ,EAAKe,MAAMC,KAAK,QACdxB,EAAGoB,EAASpB,EAAIkB,EAAQnB,YAAYC,EACpCC,EAAGmB,EAASnB,EAAIiB,EAAQnB,YAAYE,EACpCwB,MAAO,gBAAkBP,EAAQhB,YAChCgB,EAAQpB,YAAY4B,KAAKR,EAAQd,sBAAsBiB,IAE5D,MAhBAH,GAAU7B,EAASsC,UAAW9B,EAAgBqB,GAgBvC,SAAuBU,IACxBA,YAAiBvC,GAASwC,MAAQD,YAAiBvC,GAASyC,MAC9DF,EAAMG,GAAG,OAAQ,SAASvB,GACxB,GAAIwB,GAAoB1B,EAAyBE,EAAKyB,OAAS3B,EAAyBE,EAAKyB,MAAMf,EAAQf,QAAUG,EAAyBE,EAAKyB,KAC/ID,IACFb,EAASa,EAAkBxB,GAAOA,QAM5Cb,OAAQC,SAAUP,GACbA,EAAS2B,QAAQC,gBAEnB5B,EAAS2B,QAAQC","file":"chartist-plugin-pointlabels.min.js","sourcesContent":["(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([\"chartist\"], function (Chartist) {\n      return (root.returnExportsGlobal = factory(Chartist));\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like enviroments that support module.exports,\n    // like Node.\n    module.exports = factory(require(\"chartist\"));\n  } else {\n    root['Chartist.plugins.ctPointLabels'] = factory(Chartist);\n  }\n}(this, function (Chartist) {\n\n  (function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n      // AMD. Register as an anonymous module.\r\n      define([\"chartist\"], function (Chartist) {\r\n        return (root.returnExportsGlobal = factory(Chartist));\r\n      });\r\n    } else if (typeof exports === 'object') {\r\n      // Node. Does not work with strict CommonJS, but\r\n      // only CommonJS-like enviroments that support module.exports,\r\n      // like Node.\r\n      module.exports = factory(require(\"chartist\"));\r\n    } else {\r\n      root['Chartist.plugins.ctPointLabels'] = factory(Chartist);\r\n    }\r\n  }(this, function (Chartist) {\r\n    /**\r\n     * Chartist.js plugin to display a data label on top of the points in a line chart.\r\n     *\r\n     */\r\n    /* global Chartist */\r\n    (function(window, document, Chartist) {\r\n      'use strict';\r\n      var defaultOptions = {\r\n        labelClass: 'ct-label',\r\n        labelOffset: {\r\n          x: 0,\r\n          y: -10\r\n        },\r\n        textAnchor: 'middle',\r\n        align: 'center',\r\n        labelInterpolationFnc: Chartist.noop\r\n      };\r\n      var labelPositionCalculation = {\r\n        point: function(data) {\r\n          return {\r\n            x: data.x,\r\n            y: data.y\r\n          };\r\n        },\r\n        bar: {\r\n          left: function(data) {\r\n            return {\r\n              x: data.x1,\r\n              y: data.y2\r\n            };\r\n          },\r\n          center: function(data) {\r\n            return {\r\n              x: data.x1 + (data.x2 - data.x1) / 2,\r\n              y: data.y2\r\n            };\r\n          },\r\n          right: function(data) {\r\n            return {\r\n              x: data.x2,\r\n              y: data.y2\r\n            };\r\n          }\r\n        }\r\n      };\r\n      Chartist.plugins = Chartist.plugins || {};\r\n      Chartist.plugins.ctPointLabels = function(options) {\r\n        options = Chartist.extend({}, defaultOptions, options);\r\n        function addLabel(position, data) {\r\n          // if x and y exist concat them otherwise output only the existing value\r\n          var value =  ''\r\n          if (data.value.x !== undefined && data.value.y !== undefined) {\r\n            value = data.value.x + ', ' + data.value.y\r\n          } else {\r\n            value = data.value.y !== undefined ? data.value.y : data.value.x\r\n          }\r\n\r\n          data.group.elem('text', {\r\n            x: position.x + options.labelOffset.x,\r\n            y: position.y + options.labelOffset.y,\r\n            style: 'text-anchor: ' + options.textAnchor\r\n          }, options.labelClass).text(options.labelInterpolationFnc(value));\r\n        }\r\n        return function ctPointLabels(chart) {\r\n          if (chart instanceof Chartist.Line || chart instanceof Chartist.Bar) {\r\n            chart.on('draw', function(data) {\r\n              var positonCalculator = labelPositionCalculation[data.type] && labelPositionCalculation[data.type][options.align] || labelPositionCalculation[data.type];\r\n              if (positonCalculator) {\r\n                addLabel(positonCalculator(data), data);\r\n              }\r\n            });\r\n          }\r\n        };\r\n      };\r\n    }(window, document, Chartist));\r\n    return Chartist.plugins.ctPointLabels;\r\n  }));\n  return Chartist.plugins.ctPointLabels;\n\n}));\n"]}